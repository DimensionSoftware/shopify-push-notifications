!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.shopifyPushNotifications={})}(this,function(e){var n=require("crypto"),t=require("querystring");e.push=function(e,o){var r=e.indexOf(".myshopify.com")>-1?e:e+".myshopify.com";return{token:function(e){var i=(n.randomFillSync(new Uint32Array(1))[0]/4294967295*100).toString().replace(/[^\d]/,""),s=function(e,o){(n.randomFillSync(new Uint32Array(1))[0]/4294967295*100).toString().replace(/[^\d]/,"");var r=t.parse(o),i=Object.assign({},r),s=Object.keys(i).sort().reduce(function(e,n){return e.push(n+"="+i[n]),e},[]).join(""),a=n.createHmac("sha256",e);return console.log("sorted params: ",s),a.update(s),a.digest("hex")}(o,"path_prefix=/apps/dimensionauth/api/push-token?token="+e+"&shop="+r+"&seed="+i);return console.log("https://"+r+"/apps/dimensionauth/token?token="+e+"&seed="+i+"&sig="+s),!1},message:function(e,n,t){return!1}}}});
//# sourceMappingURL=api.ts.umd.js.map
