{"version":3,"file":"api.ts.umd.js","sources":["../src/api.ts"],"sourcesContent":["import { Push, PushResponse } from './index'\nimport { request, shopifyDomainFrom } from './helpers'\n\n// implement push interface\nexport const push = (store: string, secret: string): Push => {\n  const shop = shopifyDomainFrom(store)\n  return {\n    token: async (token: string, customer?: string) => {\n      // securely upsert token & customer\n      return request(shop, secret, '/push-token', { token, customer })\n    },\n    message: (title: string, body: string, data: object) => {\n      // push message\n      return request(shop, secret, '/push-message', { title, body, data })\n    }\n  }\n}\n"],"names":["push","store","secret","shop","shopifyDomainFrom","token","customer","request","message","title","body","data"],"mappings":";;;;;MAIaA,IAAI,aAAIC,KAAD,EAAgBC,MAAhB;QACZC,IAAI,GAAGC,4BAAiB,CAACH,KAAD,CAA9B;WACO;MACLI,KAAK,YAASA,KAAT,EAAwBC,QAAxB;;iCAEIC,kBAAO,CAACJ,IAAD,EAAOD,MAAP,EAAe,aAAf,EAA8B;mBAAEG,KAAF;sBAASC;WAAvC,CAAd;SAFG;;;OADA;MAKLE,OAAO,YAAGC,KAAD,EAAgBC,IAAhB,EAA8BC,IAA9B;eAEAJ,kBAAO,CAACJ,IAAD,EAAOD,MAAP,EAAe,eAAf,EAAgC;iBAAEO,KAAF;gBAASC,IAAT;gBAAeC;SAA/C,CAAd;;KAPJ;GAFK;;;;;;;;"}