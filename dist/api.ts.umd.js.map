{"version":3,"file":"api.ts.umd.js","sources":["../src/api.ts"],"sourcesContent":["import { Push, PushResponse } from './index'\nimport { request, shopifyDomainFrom } from './helpers'\n\n// implement push interface\nexport const push = (store: string, secret: string): Push => {\n  const shop = shopifyDomainFrom(store)\n  return {\n    token: async (token: string, customer?: string) => {\n      // securely upsert token & customer\n      return request(shop, secret, '/push-token', { token, customer })\n    },\n    message: (title: string, body: string, data: object) => {\n      // push message\n      return request(shop, secret, '/push-message', { title, body, data })\n    }\n  }\n}\n"],"names":["store","secret","shop","shopifyDomainFrom","token","customer","request","message","title","body","data"],"mappings":"oQAIqBA,EAAeC,OAC5BC,EAAOC,oBAAkBH,SACxB,CACLI,eAAcA,EAAeC,8BAEpBC,UAAQJ,EAAMD,EAAQ,cAAe,OAAEG,WAAOC,yCAEvDE,iBAAUC,EAAeC,EAAcC,UAE9BJ,UAAQJ,EAAMD,EAAQ,gBAAiB,OAAEO,OAAOC,OAAMC"}