{"version":3,"file":"api.ts.js","sources":["../src/api.ts"],"sourcesContent":["import { Push, PushResponse } from './index'\nimport { request, shopifyDomainFrom } from './helpers'\n\n// implement push interface\nexport const push = (store: string, secret: string): Push => {\n  const shop = shopifyDomainFrom(store)\n  return {\n    token: async (token: string, customer?: string) => {\n      // securely upsert token & customer\n      return request(shop, secret, '/push-token', { token, customer })\n    },\n    message: (title: string, body: string, data: object) => {\n      // push message\n      return request(shop, secret, '/push-message', { title, body, data })\n    }\n  }\n}\n"],"names":["push","store","secret","shop","shopifyDomainFrom","token","customer","request","message","title","body","data"],"mappings":";;IAIaA,IAAI,aAAIC,KAAD,EAAgBC,MAAhB;MACZC,IAAI,GAAGC,4BAAiB,CAACH,KAAD,CAA9B;SACO;IACLI,KAAK,YAASA,KAAT,EAAwBC,QAAxB;;+BAEIC,kBAAO,CAACJ,IAAD,EAAOD,MAAP,EAAe,aAAf,EAA8B;iBAAEG,KAAF;oBAASC;SAAvC,CAAd;OAFG;;;KADA;IAKLE,OAAO,YAAGC,KAAD,EAAgBC,IAAhB,EAA8BC,IAA9B;aAEAJ,kBAAO,CAACJ,IAAD,EAAOD,MAAP,EAAe,eAAf,EAAgC;eAAEO,KAAF;cAASC,IAAT;cAAeC;OAA/C,CAAd;;GAPJ;CAFK;;;;"}